str(db[db$Class %in% "MAMMALIA",])
db.mam <- db[db$Class %in% c("MAMMALIA") & !is.na(db$male_body_mass_g) & !is.na(db$female_body_mass_g),]
str(db.mam)
str(db[db$Class %in% "MAMMALIA",])
import.list <- lapply(xlsxfiles, read.xlsx, sheet=1, colNames = TRUE, na.strings=c("NA","na","N","-","---"," ","",".","sin dato","SD","sd","Sin Dato", -999,"-999"))
#########################################################
#Fill in data into database
#########################################################
#Load datasets
setwd("C:/Users/peepi_000/Documents/extinction_data/Literature search/input")
xlsxfiles
xlsxfiles
#########################################################
#Fill in data into database
#########################################################
#Load datasets
setwd("C:/Users/peepi_000/Documents/extinction_data/Literature search/input")
xlsxfiles <- list.files(path = ".", pattern='*\\.xlsx$', all.files=TRUE)
library(openxlsx) #CERRAR ARCHIVO "merged_iucn" en excel antes de correr codigo
import.list <- lapply(xlsxfiles, read.xlsx, sheet=1, colNames = TRUE, na.strings=c("NA","na","N","-","---"," ","",".","sin dato","SD","sd","Sin Dato", -999,"-999"))
str(db[db$Class %in% "MAMMALIA",]) #5674 obs
str(db[db$Class %in% "MAMMALIA",]) #5674 obs
db.mam <- db[db$Class %in% c("MAMMALIA") & !is.na(db$male_body_mass_g) & !is.na(db$female_body_mass_g),]
str(db.mam)#1174 obs
db.mam[6:10,]
db.mam[6:10,"binomial"]
db.mam <- db[db$Class %in% c("MAMMALIA") & !is.na(db$male_body_mass_g) & !is.na(db$female_body_mass_g),]
#Example with reptiles--------------
#Choose Class to work with
table(db$Class)
#Example with reptiles--------------
#Choose Class to work with
table(db$Class)
str(db[db$Class %in% "MAMMALIA",]) #5674 obs
names(working.list) <- c("db")
attach(working.list)
#########################################################
#Fill in data into database
#########################################################
#Load datasets
setwd("C:/Users/peepi_000/Documents/extinction_data/Literature search/input")
xlsxfiles <- list.files(path = ".", pattern='*\\.xlsx$', all.files=TRUE)
xlsxfiles
library(openxlsx) #CERRAR ARCHIVO "merged_iucn" en excel antes de correr codigo
import.list <- lapply(xlsxfiles, read.xlsx, sheet=1, colNames = TRUE, na.strings=c("NA","na","N","-","---"," ","",".","sin dato","SD","sd","Sin Dato", -999,"-999"))
working.list <- import.list
attach(working.list)
names(db)
str(db[db$Class %in% "MAMMALIA",]) #5674 obs
db.mam <- db[db$Class %in% c("MAMMALIA") & !is.na(db$male_body_mass_g) & !is.na(db$female_body_mass_g),]
str(db.mam)#1174 obs
db.mam[1:5,"binomial"]
str(db.mam)
db.mam <- db[db$Class %in% c("MAMMALIA") & !is.na(db$male_body_mass_g) & !is.na(db$female_body_mass_g),]
str(db[db$Class %in% "MAMMALIA",])
str(db[db$Class %in% "MAMMALIA",])
#########################################################
#Fill in data into database
#########################################################
#Load datasets
setwd("C:/Users/peepi_000/Documents/extinction_data/Literature search/input")
xlsxfiles <- list.files(path = ".", pattern='*\\.xlsx$', all.files=TRUE)
xlsxfiles
library(openxlsx) #CERRAR ARCHIVO "merged_iucn" en excel antes de correr codigo
import.list <- lapply(xlsxfiles, read.xlsx, sheet=1, colNames = TRUE, na.strings=c("NA","na","N","-","---"," ","",".","sin dato","SD","sd","Sin Dato", -999,"-999"))
#str(import.list)
ls()
working.list <- import.list
names(working.list) <- c("db")
attach(working.list)
names(db)
#Example with reptiles--------------
#Choose Class to work with
table(db$Class)
str(db[db$Class %in% "MAMMALIA",]) #5674 obs
db.mam <- db[db$Class %in% c("MAMMALIA") & !is.na(db$male_body_mass_g) & !is.na(db$female_body_mass_g),]
str(db.mam)#1174 obs
db.mam[1:5,"binomial"]
db.mam [11:16, "binomial"]
