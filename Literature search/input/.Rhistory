log(1)
1-0.69
0.69/0.31
log(2.226)
log(0.225806)
log(2.225806)
0.8001191/2
library("MuMIn", lib.loc="~/R/win-library/3.2")
citation
citation()
tmp <- installed.packages()
installedpkgs <- as.vector(tmp[is.na(tmp[,"Priority"]), 1])
save(installedpkgs, file="installed_old.rda")
tmp
if(!require(installr)) {
install.packages("installr"); require(installr)} #load / install+load installr
library(installr)
updateR() # this will start the updating process of your R installation.  It will check for newer versions, and if one is available, will guide you through the decisions you'd need to make.
library(devtools)
install.packages("devtools")
install_github("ropensci/ecoretriever")
library(devtools)
install_github("ropensci/ecoretriever")
library(ecoretriever)
library(ecoretriever)
library(ecoretriever)
library(rdataretriever)
datasets()
ecoretriever::datasets()
rdataretriever::datasets()
rdataretriever::datasets()
ecoretriever::install('Gentry', 'csv')
rdataretriever::install('Gentry', 'csv')
library(rdataretriever)
rdataretriever::datasets()
rdataretriever::install('Gentry', 'csv')
getupdates()
rdataretriever::get_updates()
rdataretriever::install('Gentry', 'csv')
rdataretriever::datasets()
rdataretriever::install('pantheria', 'csv')
rdataretriever::datasets()
rdataretriever::fetch("mammal-masses")
rdataretriever::datasets()
rdataretriever::fetch("mammal-life-hist")
rdataretriever::datasets()
rdataretriever::fetch("vertnet-amphibians")
rdataretriever::fetch("vertnet-amphibians")
rdataretriever::fetch("vertnet-amphibians")
rdataretriever::datasets()
library("rfishbase")
setwd("C:/Users/cris.carmona/Documents/MEGAsync/Projects/Post-doc/Riesgo de extinción y selección sexual/Analysis/Merge databases/output")
csvfiles <- list.files(path = ".", pattern='*\\.csv$', all.files=TRUE)
csvfiles
import.list <- lapply(csvfiles, read.csv, header = TRUE, as.is=TRUE, na.strings=c("NA","na","N","-","---"," ","",".","sin dato","SD","sd","Sin Dato", -999,"-999"))
working.list <- import.list[6]
names(working.list) <- "merged_db"
attach(working.list)
db<-merged_db
db.fish <- db[db$Class %in% c("ACTINOPTERYGII","SARCOPTERYGII","CHONDRICHTHYES", "MYXINI","CEPHALSPIDOMORPHI"),]
fish_sp_infishbase<-fishbase[, c("Genus","Species")]
fish_sp_infishbase$binomial<- paste(fish_sp_infishbase$Genus, fish_sp_infishbase$Species, sep=" ")
fish_sp<-db.fish$binomial[db.fish$binomial %in% fish_sp_infishbase$binomial]
fish_sp
fish.db <- morphometrics(fish_sp[1:5])
fish.db
setwd("C:/Users/cris.carmona/Documents/MEGAsync/Projects/Post-doc/Riesgo de extinción y selección sexual/Analysis/Merge databases/input")
csvfiles <- list.files(path = ".", pattern='*\\.csv$', all.files=TRUE)
csvfiles
import.list <- lapply(csvfiles, read.csv, header = TRUE, as.is=TRUE, na.strings=c("NA","na","N","-","---"," ","",".","sin dato","SD","sd","Sin Dato", -999,"-999"))
working.list <- import.list
names(working.list) <- c("adw_matsys","adw_sexdim","amniote",
"iucn_spatial","grimm","han","iucn_chordata","liao","liker",
"birdsize","mabry_birds","mabry_mammals","mank","monnet","morrow","nali",
"pantheria","pipoly","weckerly", "wilson")
attach(working.list)
names(mank)
for (i in 1:length(merged_db$binomial)){
sp<-mank[match(merged_db$binomial[i], mank$binomial),]
merged_db$sex.sel.traits[i]<-sp$Sexually.Selected.Traits
merged_db$ref.sex.sel.t[i]<-"mank"
}
merged_db$sex.sel.traits
setwd("C:/Users/cris.carmona/Documents/MEGAsync/Projects/Post-doc/Riesgo de extinción y selección sexual/Analysis/Merge databases/output")
write.csv(merged_db, "merged_iucn_and_db_v2.csv")
for (i in 1:length(merged_db$binomial)){
sp<-mank[match(merged_db$binomial[i], mank$binomial),]
merged_db$sex.sel.traits[i]<-sp$Sexually.Selected.Traits
merged_db$ref.sex.sel.t[i]<-ifelse(!is.na( merged_db$sex.sel.traits[i]), "mank", NA)
}
setwd("C:/Users/cris.carmona/Documents/MEGAsync/Projects/Post-doc/Riesgo de extinción y selección sexual/Analysis/Merge databases/output")
write.csv(merged_db, "merged_iucn_and_db_v2.csv")
setwd("C:/Users/cris.carmona/Documents/MEGAsync/Projects/Post-doc/Riesgo de extinción y selección sexual/extinction_data/Literature search/input")
csvfiles <- list.files(path = ".", pattern='*\\.csv$', all.files=TRUE)
csvfiles
import.list <- lapply(csvfiles, read.csv, header = TRUE, as.is=TRUE, na.strings=c("NA","na","N","-","---"," ","",".","sin dato","SD","sd","Sin Dato", -999,"-999"))
working.list <- import.list[2]
names(working.list) <- c("db")
attach(working.list)
names(db)
names(working.list) <- c("db2")
attach(working.list)
names(db2)
table(db2$Class)
db.fish <- db2[db2$Class %in% c("ACTINOPTERYGII","SARCOPTERYGII","CHONDRICHTHYES", "MYXINI","CEPHALSPIDOMORPHI"),]
db.fish[1:5,]
table(db2$Class)
db.rep <- db2[db2$Class %in% c("REPTILIA"),]
db.rep[1:5,]
db.rep <- db2[db2$Class %in% c("REPTILIA") & !is.na(db2$male_svl_cm) & !is.na(db2$female_svl_cm),]
str(db.rep)
str(db2[db2$Class %in% "REPTILIA"])
str(db2[db2$Class %in% "REPTILIA",])
db.rep[1:5,]
db.rep[1:5,"binomial"]
str(db.rep)
str(db2[db2$Class %in% "REPTILIA",])
