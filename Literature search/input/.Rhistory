log(1)
1-0.69
0.69/0.31
log(2.226)
log(0.225806)
log(2.225806)
0.8001191/2
library("MuMIn", lib.loc="~/R/win-library/3.2")
citation
citation()
tmp <- installed.packages()
installedpkgs <- as.vector(tmp[is.na(tmp[,"Priority"]), 1])
save(installedpkgs, file="installed_old.rda")
tmp
if(!require(installr)) {
install.packages("installr"); require(installr)} #load / install+load installr
library(installr)
updateR() # this will start the updating process of your R installation.  It will check for newer versions, and if one is available, will guide you through the decisions you'd need to make.
library(devtools)
install.packages("devtools")
install_github("ropensci/ecoretriever")
library(devtools)
install_github("ropensci/ecoretriever")
library(ecoretriever)
library(ecoretriever)
library(ecoretriever)
library(rdataretriever)
datasets()
ecoretriever::datasets()
rdataretriever::datasets()
rdataretriever::datasets()
ecoretriever::install('Gentry', 'csv')
rdataretriever::install('Gentry', 'csv')
library(rdataretriever)
rdataretriever::datasets()
rdataretriever::install('Gentry', 'csv')
getupdates()
rdataretriever::get_updates()
rdataretriever::install('Gentry', 'csv')
rdataretriever::datasets()
rdataretriever::install('pantheria', 'csv')
rdataretriever::datasets()
rdataretriever::fetch("mammal-masses")
rdataretriever::datasets()
rdataretriever::fetch("mammal-life-hist")
rdataretriever::datasets()
rdataretriever::fetch("vertnet-amphibians")
rdataretriever::fetch("vertnet-amphibians")
rdataretriever::fetch("vertnet-amphibians")
rdataretriever::datasets()
56679/708
3^4
7*4
%%
31%%7
31%/%7
17:58
(17:58)+pi
interest.30 <- 1.0025^30 #compound interes calculation based on an interest rate of 0.25% per year and a 30 year term
interest.30
interest.30 <- 1.0025^30 #compound interes calculation based on an interest rate of 0.25% per year and a 30 year term
initialbalance <- 3000
finalbalance <- initialbalance * interest.30
finalbalance
initialbalance <- 200000
finalbalance <- initialbalance * interest.30
finalbalance
a <- 17:58
mean.a <- mean(a)
mean.a
example(mean)
x <- c(0:10, 50)
xm <- mean(x)
c(xm, mean(x, trim = 0.10))
objects()
c(0, 7, 8)
x <- c(0, 7, 8)
x
numbers5to20 <- 5:20
c(numbers5to20, x)
c(x, numbers5to20)
some.numbers <- c(2, 3, 5, 7, 11, 103, 97, 114, 75, 34)
a.mess <- c(some.numbers, numbers5to20, x, 4:1)
a.mess
a.mess[22]
a.mess[c(3,6,7)]
numbers5to20[-c(2,10)]
numbers5to20
x * 3
x
y <- x - 5
y
r <- 1.08
n <- c(10,20,30,40)
1-r^(n+1)/(1-r)
pi * ((3:100)^2)
pi * (c(20,22,24,26)*2)
pi * (c(3:100)^2)
seq(1, 21, by =2)
rep(3, 12) #repeat value 3, 12 times
rep(seq(2,20, by=2), 2) #repeat sequence 2,20 twice
sample(1:6, size=8, replace=T) #an imaginary die is tossed 8 times
sample(1:6, size=8, replace=T) #an imaginary die is tossed 8 times
colors <- c("red", "yellow", "blue")
sample(1:6, size=8, replace=T) #an imaginary die is tossed 8 times
sample(1:6, size=100, replace=T) #an imaginary die is tossed 8 times
sample(1:6, size=100, replace=F) #an imaginary die is tossed 8 times
sample(1:6, size=100, replace=F) #an imaginary die is tossed 8 times
sample(1:6, size=100, replace=T) #an imaginary die is tossed 8 times
colors <- c("red", "yellow", "blue")
colors <- c(red, yellow, blue)
more.colors <- c(colors, "green","magenta","cyan")
more.colors
substr(colors, 1,2) #print first two letters of each color
substr(colors, 1,4) #print first two letters of each color
substr(colors, 2,2) #print first two letters of each color
substr(colors, 2,3) #print first two letters of each color
paste(colors, "flowers")
paste(colors, "flowers")
paste("several ", colors, "s", sep="")
paste("I like", colors, collapse=", ")
grp <- c("control", "treatment", "control", "treatment")
grp
grp <- factor(grp)
grp
levels(grp)
levels(grp)[1]
levels(grp)[1] <- "placebo"
grp
m <- matrix(1:6, nrow = 2, ncol = 3)
m
m[1,2]
m[1,]
m[,2]
threeM <- c(3, 6, 9)
threeM > 4
threeM ==4
threeM !=4
threeM !>4
threeM < 4
threeM[threeM > 4]
colors[colors %in% "e"]
colors[colors %in% "blue"]
colors[colors %in% c("blue","yellow")]
x <- 5
x <- 5
y1 <- 5
if(x < 5){
y1 = 0
}
y1
x <- 3
y1 <- 5
if(x < 5){
y1 = 0
}
y1
if(x > 10){
message("x is greater than 10")
} else if (x > 0){
message ("x is greater than 0")
} else if (x > -5){
message("x is greater than -5")
} else {
message("x must be less than -5")
}
x <- -5
if(x > 10){
message("x is greater than 10")
} else if (x > 0){
message ("x is greater than 0")
} else if (x > -5){
message("x is greater than -5")
} else {
message("x must be less than -5")
}
names(women)
str(women)
women
women[4,1]
women[,2]
women$height
women[,1]
women[women$weight>140,]
women[women$weight>140,2]
women[women$weight>140,weight]
women[women$weight>140,"weight"]
women[women$weight>140, c("weight","height")]
gender <- c("M", "M", "F", "F", "F")
weight <- c(73, 68, 52, 69, 64)
obesitystudy <- data.frame(gender, weight)
obesitystudy
str(obesitystudy)
colnames(obesitystudy)
colnames(obesitystudy) <- paste(colnames(obesitystudy), ".1", sep="")
colnames(obesitystudy)
obesitystudy[obesitystudy$gender.1 %in% "M",]
obesitystudy[obesitystudy$gender.1 %in% "M" & obesitystudy$weight.1 <70,]
obesitystudy[obesitystudy$gender.1 %in% "M" | obesitystudy$gender.1 %in% "F" & obesitystudy$weight.1 <69,]
gender <- c("M", "M", "F", "F", "F")
weight <- c(73, 68, 52, 69, 64)
height <- c(145, 167, 178, 149, 150)
obesitystudy <- data.frame(gender, weight, height)
obesitystudy
obesitystudy[obesitystudy$height > 150,]
obesitystudy[obesitystudy$gender %in% c("M", "F") & obesitystudy$height > 150,]
obesitystudy[obesitystudy$gender %in% "M" & obesitystudy$weight < 70 | obesitystudy$gender %in% "F" & obesitystudy$height > 150]
obesitystudy[obesitystudy$gender %in% "F" & obesitystudy$weight < 69, >69,]
obesitystudy[obesitystudy$gender %in% "F" & obesitystudy$weight !=69,]
obesitystudy[obesitystudy$gender %in% "F" & obesitystudy$weight < 69 & obesitystudy$weight >69,]
obesitystudy[obesitystudy$gender %in% "F" & obesitystudy$weight < 69 | obesitystudy$weight >69,]
obesitystudy[obesitystudy$gender %in% "F" & obesitystudy$weight < 69 | obesitystudy$gender %in% "F" & obesitystudy$weight >69,]
total <- 0
x <- 4:6
for(i in 1:length(x)){
total = total + x[i]
}
total
fun2 <- function(x,y){
return(x*y)
}
fun2(3,4)
fun2(5,12345)
obesitystudy
120/1.65
120/(1.65^2)
setwd("C:/Users/cris.carmona/Documents/MEGAsync/Projects/Post-doc/Riesgo de extinci贸n y selecci贸n sexual/extinction_data/Literature search/input")
xlsxfiles <- list.files(path = ".", pattern='*\\.xlsx$', all.files=TRUE)
xlsxfiles
library(openxlsx) #CERRAR ARCHIVO "merged_iucn" en excel antes de correr codigo
import.list <- lapply(xlsxfiles, read.xlsx, sheet=1, colNames = TRUE, na.strings=c("NA", "NA ","na","N","-","---"," ","",".","sin dato","SD","sd","Sin Dato", -999,"-999"))
#import.list <- read.xlsx("merged_iucn_and_db_v4.xlsx", sheet=1, colNames=TRUE, na.strings=c("NA","na","N","-","---"," ","",".","sin dato","SD","sd","Sin Dato", -999,"-999"))
#str(import.list)
ls()
working.list <- import.list
names(working.list) <- c("db")
attach(working.list)
###########################################################
names(db)
#Example with mammals--------------
#Choose Class to work with
table(db$Class)
str(db[db$Class %in% "MAMMALIA",]) #5674 obs
db.mam <- db[db$Class %in% c("MAMMALIA") & !is.na(db$male_body_mass_g) & !is.na(db$female_body_mass_g),]
str(db.mam)#1174 obs
import.list <- lapply(xlsxfiles, read.xlsx, sheet=1, colNames = TRUE, na.strings=c("NA", "NA ","na","N","-","---"," ","",".","sin dato","SD","sd","Sin Dato", -999,"-999"))
xlsxfiles
setwd("C:/Users/cris.carmona/Documents/MEGAsync/Projects/Post-doc/Riesgo de extinci贸n y selecci贸n sexual/extinction_data/Literature search/input")
xlsxfiles <- list.files(path = ".", pattern='*\\.xlsx$', all.files=TRUE)
xlsxfiles
import.list <- lapply(xlsxfiles, read.xlsx, sheet=1, colNames = TRUE, na.strings=c("NA", "NA ","na","N","-","---"," ","",".","sin dato","SD","sd","Sin Dato", -999,"-999"))
working.list <- import.list
names(working.list) <- c("db")
attach(working.list)
###########################################################
names(db)
#Example with mammals--------------
#Choose Class to work with
table(db$Class)
str(db[db$Class %in% "MAMMALIA",]) #5674 obs
db.mam <- db[db$Class %in% c("MAMMALIA") & !is.na(db$male_body_mass_g) & !is.na(db$female_body_mass_g),]
str(db.mam)#1174 obs
str(db.mam[!is.na(db.mam$ASR),"binomial"]) #47
db.mam[!is.na(db.mam$ASR),"binomial"]
